# OpenAPI spec for API Gateway to Cloud Run
swagger: '2.0'
info:
  title: Demo Agent API Gateway
  description: API Gateway for Demo Agent Cloud Run service
  version: '1.0.0'
host: demo-agent-gateway-vq1gs9i.uc.gateway.dev
schemes:
  - https
produces:
  - application/json
x-google-backend:
  address: https://demo-agent-4k3haexkga-uc.a.run.app
  protocol: h2
  # jwt_audience configures service account authentication to Cloud Run
  # The original Authorization header is moved to X-Forwarded-Authorization
  jwt_audience: https://demo-agent-4k3haexkga-uc.a.run.app
  path_translation: APPEND_PATH_TO_ADDRESS
securityDefinitions: {}
security: []
paths:
  /health:
    get:
      summary: Health check
      operationId: health
      responses:
        '200':
          description: OK
  /:
    get:
      summary: Root info
      operationId: root
      responses:
        '200':
          description: OK
  /v1/demo:
    post:
      summary: Demo agent query
      operationId: demoQuery
      parameters:
        - name: body
          in: body
          required: true
          schema:
            type: object
      responses:
        '200':
          description: OK
    options:
      summary: CORS preflight
      operationId: demoCors
      responses:
        '200':
          description: OK
  /v1/demo/status:
    get:
      summary: Get quota status
      operationId: demoStatus
      responses:
        '200':
          description: OK
  /v1/demo/history:
    get:
      summary: Get chat history
      operationId: demoHistory
      responses:
        '200':
          description: OK
